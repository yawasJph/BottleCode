<!DOCTYPE html>
<html lang="es" data-bs-theme="auto">

<head>
	<title>BottleCode - Producto - detalle</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

	<link
		href="https://fonts.googleapis.com/css2?family=Spectral:ital,wght@0,200;0,300;0,400;0,500;0,700;0,800;1,200;1,300;1,400;1,500;1,700&display=swap"
		rel="stylesheet">

	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

	<link rel="stylesheet" href="../css/animate.css">

	<link rel="stylesheet" href="../css/owl.carousel.min.css">
	<link rel="stylesheet" href="../css/owl.theme.default.min.css">
	<link rel="stylesheet" href="../css/magnific-popup.css">

	<link rel="stylesheet"
		href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.1/css/bootstrap-select.min.css">

	<link rel="stylesheet" href="../css/flaticon.css">
	<link rel="stylesheet" href="../css/style.css">

	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css">

</head>

<style>
	@media (max-width: 1000.98px) {
		#userIcon {
			display: none !important;
		}
	}

	/* Comportamiento por defecto */
	.summary-card,
	.cart-item,
	.empty-cart {
		background-color: var(--bs-body-bg);
		color: var(--bs-body-color);
	}

	/* Opcional: más contraste en modo oscuro */
	[data-bs-theme="dark"] .summary-card,
	[data-bs-theme="dark"] .cart-item,
	[data-bs-theme="dark"] .ftco-section,
	[data-bs-theme="dark"] .empty-cart {
		box-shadow: 0 2px 10px rgba(255, 255, 255, 0.05);
	}

	[data-bs-theme="dark"] .btn-checkout:hover,
	[data-bs-theme="dark"] .btn-view-cart:hover {
		box-shadow: 0 4px 10px rgba(255, 255, 255, 0.1);
	}
</style>

<body>

	<div class="wrap">
		<div class="container">
			<div class="row">
				<div class="col-md-6 d-flex align-items-center">
					<p class="mb-0 phone pl-md-2">
						<!-- <a href="#" class="mr-2"><span class="fa fa-phone mr-1"></span> +00 1234 567</a>
						<a href="#"><span class="fa fa-paper-plane mr-1"></span> youremail@email.com</a> -->
					</p>
				</div>
				<div class="col-md-6 d-flex justify-content-md-end">
					<div class="social-media mr-4">
						<p class="mb-0 d-flex">
							<!-- <a href="#" class="d-flex align-items-center justify-content-center"><span
									class="fa fa-facebook"><i class="sr-only">Facebook</i></span></a>
							<a href="#" class="d-flex align-items-center justify-content-center"><span
									class="fa fa-twitter"><i class="sr-only">Twitter</i></span></a>
							<a href="#" class="d-flex align-items-center justify-content-center"><span
									class="fa fa-instagram"><i class="sr-only">Instagram</i></span></a>
							<a href="#" class="d-flex align-items-center justify-content-center"><span
									class="fa fa-dribbble"><i class="sr-only">Dribbble</i></span></a> -->
						</p>
					</div>
					<div class="reg">
						<!-- <p class="mb-0"><a href="#" class="mr-2">Sign Up</a> <a href="#">Log In</a></p> -->
					</div>
				</div>
			</div>
		</div>
	</div>


	<nav class="navbar navbar-expand-lg navbar-dark ftco_navbar bg-dark ftco-navbar-light" id="ftco-navbar">
		<div class="container">
			<a class="navbar-brand" href="index.html">Bottle <span>Code</span></a>
			<div class="order-lg-last btn-group gap-4">
				<a href="javascript:void(0)" class="position-relative" data-bs-toggle="offcanvas"
					data-bs-target="#offcanvasCart" id="btn-cart">
					<span class="flaticon-shopping-bag fs-4"></span>
					<span id="cart-count"
						class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger ">
						0
					</span>
				</a>
			</div>


			<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#ftco-nav"
				aria-controls="ftco-nav" aria-expanded="false" aria-label="Toggle navigation">
				<span class="oi oi-menu"></span> Menu
			</button>

			<div class="collapse navbar-collapse" id="ftco-nav">
				<ul class="navbar-nav ml-auto">
					<li class="nav-item active"><a href="index.html" class="nav-link">Inicio</a></li>
					<li class="nav-item"><a href="about.html" class="nav-link">Nosotros</a></li>
					<li class="nav-item dropdown">
						<a class="nav-link dropdown-toggle" href="#" id="dropdown04" data-toggle="dropdown"
							aria-haspopup="true" aria-expanded="false">Categorias</a>
						<div class="dropdown-menu" aria-labelledby="dropdown04" id="navbar-category-dropdown">

						</div>
					</li>
					<li class="nav-item"><a href="contact.html" class="nav-link">Contacto</a></li>
				</ul>
				<!-- <ul class="navbar-nav ml-auto" id="userIcon">
					<li class="nav-item dropdown">
						<a class="nav-link dropdown-toggle" href="#" id="dropdown05" data-toggle="dropdown"
							aria-haspopup="true" aria-expanded="false"><i class="bi bi-person fs-4"></i></a>
						<div class="dropdown-menu" aria-labelledby="dropdown05">
							<a class="dropdown-item" href="#">Iniciar Sesion</a>
							<a class="dropdown-item" href="#">Registrarse</a>
						</div>
					</li>
				</ul> -->
			</div>
		</div>
	</nav>
	<!-- END nav -->

	<section class="hero-wrap hero-wrap-2" style="background-image: url('../images/bg_2.jpg');"
		data-stellar-background-ratio="0.5">
		<div class="overlay"></div>
		<div class="container">
			<div class="row no-gutters slider-text align-items-end justify-content-center">
				<div class="col-md-9 ftco-animate mb-5 text-center">
					<p class="breadcrumbs mb-0"><span class="mr-2"><a href="index.html">Home <i
									class="fa fa-chevron-right"></i></a></span> <span><a href="product.html">Categorias <i
									class="fa fa-chevron-right"></i></a></span> <span>Producto<i
								class="fa fa-chevron-right"></i></span></p>
					<h2 class="mb-0 bread" id="hero-title">Products Single</h2>
				</div>
			</div>
		</div>
	</section>

	<section class="ftco-section">
		<div class="container">
			<div class="row">
				<div class="col-lg-6 mb-5 ftco-animate">
					<a href="../images/prod-1.jpg" class="image-popup prod-img-bg"><img src="../images/prod-1.jpg"
							class="img-fluid" alt="Colorlib Template"></a>
				</div>
				<div class="col-lg-6 product-details pl-md-5 ftco-animate" id="divProduct">
					<h3><!--produCt name--></h3>
					<div class="rating d-flex">
						<p class="text-left mr-4">
							<a href="#" class="mr-2">5.0</a>
							<a href="#"><span class="fa fa-star"></span></a>
							<a href="#"><span class="fa fa-star"></span></a>
							<a href="#"><span class="fa fa-star"></span></a>
							<a href="#"><span class="fa fa-star"></span></a>
							<a href="#"><span class="fa fa-star"></span></a>
						</p>
						<p class="text-left mr-4">
							<a href="#" class="mr-2" style="color: #000;">100 <span
									style="color: #bbb;">Rating</span></a>
						</p>
						<p class="text-left">
							<a href="#" class="mr-2" style="color: #000;">500 <span style="color: #bbb;">Sold</span></a>
						</p>
					</div>
					<p class="price"><span><!--product price--></span></p>
					<div id="description-detail">
						<!--producto description-->
					</div>

					<div class="row mt-4">
						<div class="input-group col-md-6 d-flex mb-3">
							<span class="input-group-btn mr-2">
								<button type="button" class="quantity-left-minus btn" data-type="minus" data-field="">
									<i class="fa fa-minus"></i>
								</button>
							</span>
							<input type="text" id="quantity" name="quantity" class="quantity form-control input-number"
								value="1" min="1" max="100">
							<span class="input-group-btn ml-2">
								<button type="button" class="quantity-right-plus btn" data-type="plus" data-field="">
									<i class="fa fa-plus"></i>
								</button>
							</span>
						</div>
						<div class="w-100"></div>
						<div class="col-md-12">
							<p style="color: #000;"></p>
						</div>
					</div>
					<p>
						<a href="#" class="btn btn-primary py-3 px-5 mr-2" id="add-to-cart" data-bs-toggle="offcanvas"
							data-bs-target="#offcanvasCart">Agregar al Carrito</a>
						<a href="cart.html" class="btn btn-primary py-3 px-5">Ver Carrito</a>
					</p>
				</div>
			</div>




			<!-- <div class="row mt-5">
				<div class="col-md-12 nav-link-wrap">
					<div class="nav nav-pills d-flex text-center" id="v-pills-tab" role="tablist"
						aria-orientation="vertical">
						<a class="nav-link ftco-animate active mr-lg-1" id="v-pills-1-tab" data-toggle="pill"
							href="#v-pills-1" role="tab" aria-controls="v-pills-1" aria-selected="true">Description</a>

						<a class="nav-link ftco-animate mr-lg-1" id="v-pills-2-tab" data-toggle="pill" href="#v-pills-2"
							role="tab" aria-controls="v-pills-2" aria-selected="false">Manufacturer</a>

						<a class="nav-link ftco-animate" id="v-pills-3-tab" data-toggle="pill" href="#v-pills-3"
							role="tab" aria-controls="v-pills-3" aria-selected="false">Reviews</a>

					</div>
				</div>
				<div class="col-md-12 tab-wrap">

					<div class="tab-content bg-light" id="v-pills-tabContent">

						<div class="tab-pane fade show active" id="v-pills-1" role="tabpanel"
							aria-labelledby="day-1-tab">
							<div class="p-4">
								<h3 class="mb-4">Bacardi 151 Degree</h3>
								<p>On her way she met a copy. The copy warned the Little Blind Text, that where it came
									from it would have been rewritten a thousand times and everything that was left from
									its origin would be the word "and" and the Little Blind Text should turn around and
									return to its own, safe country. But nothing the copy said could convince her and so
									it didn’t take long until a few insidious Copy Writers ambushed her, made her drunk
									with Longe and Parole and dragged her into their agency, where they abused her for
									their.</p>
							</div>
						</div>

						<div class="tab-pane fade" id="v-pills-2" role="tabpanel" aria-labelledby="v-pills-day-2-tab">
							<div class="p-4">
								<h3 class="mb-4">Manufactured By Liquor Store</h3>
								<p>On her way she met a copy. The copy warned the Little Blind Text, that where it came
									from it would have been rewritten a thousand times and everything that was left from
									its origin would be the word "and" and the Little Blind Text should turn around and
									return to its own, safe country. But nothing the copy said could convince her and so
									it didn’t take long until a few insidious Copy Writers ambushed her, made her drunk
									with Longe and Parole and dragged her into their agency, where they abused her for
									their.</p>
							</div>
						</div>
						<div class="tab-pane fade" id="v-pills-3" role="tabpanel" aria-labelledby="v-pills-day-3-tab">
							<div class="row p-4">
								<div class="col-md-7">
									<h3 class="mb-4">23 Reviews</h3>
									<div class="review">
										<div class="user-img" style="background-image: url(../images/person_1.jpg)">
										</div>
										<div class="desc">
											<h4>
												<span class="text-left">Jacob Webb</span>
												<span class="text-right">25 April 2020</span>
											</h4>
											<p class="star">
												<span>
													<i class="fa fa-star"></i>
													<i class="fa fa-star"></i>
													<i class="fa fa-star"></i>
													<i class="fa fa-star"></i>
													<i class="fa fa-star"></i>
												</span>
												<span class="text-right"><a href="#" class="reply"><i
															class="icon-reply"></i></a></span>
											</p>
											<p>When she reached the first hills of the Italic Mountains, she had a last
												view back on the skyline of her hometown Bookmarksgrov</p>
										</div>
									</div>
									<div class="review">
										<div class="user-img" style="background-image: url(../images/person_2.jpg)">
										</div>
										<div class="desc">
											<h4>
												<span class="text-left">Jacob Webb</span>
												<span class="text-right">25 April 2020</span>
											</h4>
											<p class="star">
												<span>
													<i class="fa fa-star"></i>
													<i class="fa fa-star"></i>
													<i class="fa fa-star"></i>
													<i class="fa fa-star"></i>
													<i class="fa fa-star"></i>
												</span>
												<span class="text-right"><a href="#" class="reply"><i
															class="icon-reply"></i></a></span>
											</p>
											<p>When she reached the first hills of the Italic Mountains, she had a last
												view back on the skyline of her hometown Bookmarksgrov</p>
										</div>
									</div>
									<div class="review">
										<div class="user-img" style="background-image: url(../images/person_3.jpg)">
										</div>
										<div class="desc">
											<h4>
												<span class="text-left">Jacob Webb</span>
												<span class="text-right">25 April 2020</span>
											</h4>
											<p class="star">
												<span>
													<i class="fa fa-star"></i>
													<i class="fa fa-star"></i>
													<i class="fa fa-star"></i>
													<i class="fa fa-star"></i>
													<i class="fa fa-star"></i>
												</span>
												<span class="text-right"><a href="#" class="reply"><i
															class="icon-reply"></i></a></span>
											</p>
											<p>When she reached the first hills of the Italic Mountains, she had a last
												view back on the skyline of her hometown Bookmarksgrov</p>
										</div>
									</div>
								</div>
								<div class="col-md-4">
									<div class="rating-wrap">
										<h3 class="mb-4">Give a Review</h3>
										<p class="star">
											<span>
												<i class="fa fa-star"></i>
												<i class="fa fa-star"></i>
												<i class="fa fa-star"></i>
												<i class="fa fa-star"></i>
												<i class="fa fa-star"></i>
												(98%)
											</span>
											<span>20 Reviews</span>
										</p>
										<p class="star">
											<span>
												<i class="fa fa-star"></i>
												<i class="fa fa-star"></i>
												<i class="fa fa-star"></i>
												<i class="fa fa-star"></i>
												<i class="fa fa-star"></i>
												(85%)
											</span>
											<span>10 Reviews</span>
										</p>
										<p class="star">
											<span>
												<i class="fa fa-star"></i>
												<i class="fa fa-star"></i>
												<i class="fa fa-star"></i>
												<i class="fa fa-star"></i>
												<i class="fa fa-star"></i>
												(98%)
											</span>
											<span>5 Reviews</span>
										</p>
										<p class="star">
											<span>
												<i class="fa fa-star"></i>
												<i class="fa fa-star"></i>
												<i class="fa fa-star"></i>
												<i class="fa fa-star"></i>
												<i class="fa fa-star"></i>
												(98%)
											</span>
											<span>0 Reviews</span>
										</p>
										<p class="star">
											<span>
												<i class="fa fa-star"></i>
												<i class="fa fa-star"></i>
												<i class="fa fa-star"></i>
												<i class="fa fa-star"></i>
												<i class="fa fa-star"></i>
												(98%)
											</span>
											<span>0 Reviews</span>
										</p>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div> -->
		</div>
	</section>

	<footer class="ftco-footer">
		<div class="container">
			<div class="row">
				<div class="col-sm-12 col-md">
					<div class="ftco-footer-widget mb-4">
						<h2 class="ftco-heading-2 logo"><a href="#">Bottle <span>Code</span></a></h2>
						<p>Lejos, muy lejos, detrás de las montañas de palabras, lejos de los países.</p>
						<ul class="ftco-footer-social list-unstyled mt-2">
							<li class="ftco-animate"><a href="#"><span class="fa fa-twitter"></span></a></li>
							<li class="ftco-animate"><a href="#"><span class="fa fa-facebook"></span></a></li>
							<li class="ftco-animate"><a href="#"><span class="fa fa-instagram"></span></a></li>
						</ul>
					</div>
				</div>
				<div class="col-sm-12 col-md">
					<div class="ftco-footer-widget mb-4 ml-md-4">
						<h2 class="ftco-heading-2">Mis Cuentas</h2>
						<ul class="list-unstyled">
							<li><a href="#"><span class="fa fa-chevron-right mr-2"></span>Mi Cuenta</a></li>
							<li><a href="#"><span class="fa fa-chevron-right mr-2"></span>Registrar</a></li>
							<li><a href="#"><span class="fa fa-chevron-right mr-2"></span>Iniciar sesión</a></li>
							<li><a href="#"><span class="fa fa-chevron-right mr-2"></span>Mi pedido</a></li>
						</ul>
					</div>
				</div>
				<div class="col-sm-12 col-md">
					<div class="ftco-footer-widget mb-4 ml-md-4">
						<h2 class="ftco-heading-2">Informacion</h2>
						<ul class="list-unstyled">
							<li><a href="#"><span class="fa fa-chevron-right mr-2"></span>Nosotros</a></li>
							<li><a href="#"><span class="fa fa-chevron-right mr-2"></span>Categorias</a></li>
							<li><a href="#"><span class="fa fa-chevron-right mr-2"></span>Contacto</a></li>
							<li><a href="#"><span class="fa fa-chevron-right mr-2"></span>Términos y Condiciones</a>
							</li>
						</ul>
					</div>
				</div>
				<div class="col-sm-12 col-md">
					<div class="ftco-footer-widget mb-4">
						<h2 class="ftco-heading-2">Enlace rápido</h2>
						<ul class="list-unstyled">
							<li><a href="#"><span class="fa fa-chevron-right mr-2"></span>Nuevo Usuario</a></li>
							<li><a href="#"><span class="fa fa-chevron-right mr-2"></span>Centro de Ayuda</a></li>
							<li><a href="#"><span class="fa fa-chevron-right mr-2"></span>Informar spam</a></li>
							<li><a href="#"><span class="fa fa-chevron-right mr-2"></span>Preguntas frecuentes</a></li>
						</ul>
					</div>
				</div>
				<div class="col-sm-12 col-md">
					<div class="ftco-footer-widget mb-4">
						<h2 class="ftco-heading-2">¿Tienes preguntas?</h2>
						<div class="block-23 mb-3">
							<ul>
								<li><span class="icon fa fa-map marker"></span><span class="text">203 Calle Falsa, Vista
										de la Montaña, San Francisco, California, EE. UU.</span></li>
								<li><a href="#"><span class="icon fa fa-phone"></span><span class="text">+2 392 3929
											210</span></a></li>
								<li><a href="#"><span class="icon fa fa-paper-plane pr-4"></span><span
											class="text">BottleCode@gmail.com</span></a></li>
							</ul>
						</div>
					</div>
				</div>
			</div>
		</div>
	</footer>


	<!-- loader -->
	<div id="ftco-loader" class="show fullscreen"><svg class="circular" width="48px" height="48px">
			<circle class="path-bg" cx="24" cy="24" r="22" fill="none" stroke-width="4" stroke="#eeeeee" />
			<circle class="path" cx="24" cy="24" r="22" fill="none" stroke-width="4" stroke-miterlimit="10"
				stroke="#F96D00" />
		</svg>
	</div>


	<div id="cartModal" class="modal">
		<div class="modal-content">
			<span class="close">&times;</span>
			<div class="modal-body">
				<div class="modal-left">
					<img id="modal-image" src="" alt="Producto" />
				</div>
				<div class="modal-right">
					<h3 id="modal-name">Nombre del producto</h3>
					<label for="modal-quantity">Cantidad:</label>
					<input type="number" id="modal-quantity" min="1" value="1" /><br>
					<p>Precio: $<span id="modal-price">0.00</span></p>
					<button id="add-to-cart-btn">Agregar al carrito</button>
				</div>
			</div>
		</div>
	</div>

	<div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasCart" aria-labelledby="offcanvasCartLabel">
		<div class="offcanvas-header">
			<div>
				<h5 class="offcanvas-title" id="offcanvasCartLabel">
					<i class="bi bi-cart3 me-2"></i>Carrito de Compras
				</h5>
				<p class="mb-0 small">Tus productos seleccionados</p>
			</div>
			<button type="button" class="btn-close btn-close-white" data-bs-dismiss="offcanvas"
				aria-label="Cerrar"></button>
		</div>
		<div class="offcanvas-body d-flex flex-column">
			<div id="cart-body" class="mb-3 flex-grow-1">

			</div>

			<div class="summary-card mt-auto">
				<div class="d-flex justify-content-between align-items-center mb-3 border-top pt-2">
					<strong class="fs-5">Total:</strong>
					<span id="cart-total" class="fs-5 fw-bold " style="color: brown;">S/ 0.00</span>
				</div>
				<div class="d-grid gap-2">
					<a class="btn btn-view-cart btn-outline-secondary" href="cart.html">
						<i class="bi bi-cart me-1"></i> Ver Carrito Completo
					</a>
					<button class="btn btn-checkout text-white">
						<i class="bi bi-credit-card me-1"></i> Proceder a Comprar
					</button>
				</div>
			</div>
		</div>
	</div>
	<!-- <button id="themeToggle" class="btn btn-sm btn-outline-secondary me-2">
		<i class="bi bi-moon"></i> <span class="ms-1"></span>
	</button>
	<div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasCart" aria-labelledby="offcanvasCartLabel">
		<div class="offcanvas-header text-white bg-gradient"
			style="background: linear-gradient(to right, #b7472a, #8e44ad);">
			<div>
				<h5 class="offcanvas-title" id="offcanvasCartLabel">
					<i class="bi bi-cart3 me-2"></i>Carrito de Compras

				</h5>
				<p class="mb-0 small">Tus productos seleccionados</p>
			</div>
			<button type="button" class="btn-close btn-close-white" data-bs-dismiss="offcanvas"
				aria-label="Cerrar"></button>
		</div>

		<div class="offcanvas-body d-flex flex-column p-0 bg-body text-body" style="height: 100%;">
			<div id="cart-body" class="flex-grow-1 overflow-auto p-3">

			</div>

			<div class="summary-card p-3 border-top bg-body">
				<div class="d-flex justify-content-between align-items-center mb-3">
					<strong class="fs-5">Total:</strong>
					<span id="cart-total" class="fs-5 fw-bold" style="color: brown;">S/ 0.00</span>
				</div>
				<div class="d-grid gap-2">
					<button class="btn btn-view-cart btn-outline-secondary">
						<i class="bi bi-cart me-1"></i> Ver Carrito Completo
					</button>
					<button class="btn btn-checkout text-white">
						<i class="bi bi-credit-card me-1"></i> Proceder a Comprar
					</button>
				</div>
			</div>
		</div>
	</div> -->

	<script src="../js/jquery.min.js"></script>
	<script src="../js/jquery-migrate-3.0.1.min.js"></script>
	<script src="../js/popper.min.js"></script>
	<script src="../js/bootstrap.min.js"></script>
	<script src="../js/jquery.easing.1.3.js"></script>
	<script src="../js/jquery.waypoints.min.js"></script>
	<script src="../js/jquery.stellar.min.js"></script>
	<script src="../js/owl.carousel.min.js"></script>
	<script src="../js/jquery.magnific-popup.min.js"></script>
	<script src="../js/jquery.animateNumber.min.js"></script>
	<script src="../js/scrollax.min.js"></script>
	<!-- <script
		src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBVWaKrjvy3MaE7SQ74_uJiULgl1JY0H2s&sensor=false"></script>
	<script src="../js/google-map.js"></script> -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.1/js/bootstrap-select.min.js"></script>
	<script src="../js/main.js"></script>

	<!-- Bootstrap JS -->
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

	<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

	<script>

		let cartItems = JSON.parse(localStorage.getItem('cartItems')) || [];
		const products = JSON.parse(localStorage.getItem('products')) || [];
		const viewId = localStorage.getItem('viewId');

		const categories = JSON.parse(localStorage.getItem('categories')) || []
		const categoriesActives = categories.filter(category => category._status === 'activo');

		document.addEventListener("DOMContentLoaded", function () {

			const product = products.find(p => p._name == viewId)
			const heroTitle = document.getElementById('hero-title')
			heroTitle.textContent = product._name

			upDownwInput()
			renderViewProduct()
			renderCart();
			dropdownCategory()
		})

		function upDownwInput() {
			var quantitiy = 0;
			$('.quantity-right-plus').click(function (e) {

				// Stop acting like a button
				e.preventDefault();
				// Get the field name

				var quantity = parseInt($('#quantity').val());

				// If is not undefined

				$('#quantity').val(quantity + 1);


				// Increment

			});

			$('.quantity-left-minus').click(function (e) {
				// Stop acting like a button
				e.preventDefault();
				// Get the field name
				var quantity = parseInt($('#quantity').val());

				// If is not undefined

				// Increment
				if (quantity > 1) {
					$('#quantity').val(quantity - 1);
				}
			});
		}

		function renderViewProduct() {
			const product = products.find(item => item._name == viewId);

			if (!product) {
				console.warn('Producto no encontrado');
				return;
			}

			// Llenar título
			const titleEl = document.querySelector('#divProduct h3');
			if (titleEl) titleEl.textContent = product._name;

			// Llenar precio
			const priceEl = document.querySelector('#divProduct .price span');
			if (priceEl) priceEl.textContent = `S/ ${product._price}`;

			const longDescEl = document.querySelector('#divProduct #description-detail');
			if (longDescEl) longDescEl.innerHTML = product._description || '';

			// Llenar imagen
			const imgEl = document.querySelector('.prod-img-bg img');
			const linkImgEl = document.querySelector('.prod-img-bg');
			const imgUrl = product._image || '../images/default.jpg';

			if (imgEl) imgEl.src = imgUrl;
			if (linkImgEl) linkImgEl.href = imgUrl;

			// Stock
			const stockText = product._stock
				? `${product._stock} pieza${product._stock > 1 ? 's' : ''} disponible`
				: 'Sin stock';
			const stockEl = document.querySelector('#divProduct .col-md-12 > p');
			if (stockEl) stockEl.textContent = stockText;
		}

		function dropdownCategory() {
			const dropdownContainer = document.getElementById('navbar-category-dropdown');

			// Limpiar por si acaso
			dropdownContainer.innerHTML = '';

			if (categoriesActives.length === 0) {
				// Mostrar mensaje informativo con ícono
				const noItem = document.createElement('div');
				noItem.className = 'dropdown-item text-muted d-flex align-items-center gap-2';
				noItem.style.pointerEvents = 'none';
				noItem.innerHTML = `<i class="bi bi-info-circle"></i> <span>Sin categorías disponibles</span>`;
				dropdownContainer.appendChild(noItem);
				return;
			}

			// Opción "Todos"
			const allItem = document.createElement('a');
			allItem.className = 'dropdown-item category-link';
			allItem.href = `product.html`;
			allItem.textContent = 'Todos';
			dropdownContainer.appendChild(allItem);

			// Agregar categorías activas
			categoriesActives.forEach(category => {
				const link = document.createElement('a');
				link.className = 'dropdown-item';
				link.href = `product.html?category=${encodeURIComponent(category._name.toLowerCase())}`;
				link.textContent = category._name;
				dropdownContainer.appendChild(link);
			});
		}

		//add items to cart
		document.getElementById('add-to-cart').addEventListener('click', (e) => {
			e.preventDefault()

			const name = document.querySelector('#divProduct h3').textContent;
			const priceText = document.querySelector('#divProduct .price span').textContent;
			const price = priceText.replace('S/ ', '');
			const image = document.querySelector('.prod-img-bg img').getAttribute('src');
			const quantitiy = parseInt(document.getElementById('quantity').value)
			const existingItem = cartItems.find(item => item.name === name);
			const id = viewId

			console.log(existingItem)
			if (existingItem) {
				existingItem.quantity += quantitiy;
			} else {
				cartItems.push({ id, name, price, image, quantity: 1 });
			}
			//showAddToCartToast(name, image)
			renderCart();
			saveCartToLocalStorage();
		})
		function showAddToCartToast(name, image) {
			Swal.fire({
				title: '¡Producto agregado!',
				html: `
      <div style="display: flex; align-items: center; gap: 10px; flex-wrap: wrap;">
        <img src="${image}" alt="${name}" style="width: 60px; height: 60px; object-fit: cover; border-radius: 5px;">
        <div style="flex: 1; min-width: 120px;">
          <strong>${name}</strong><br>
          <span style="font-size: 0.9rem; color: #555;">Agregado al carrito correctamente</span>
        </div>
      </div>
    `,
				icon: 'success',
				toast: true,
				position: 'top-end',
				showConfirmButton: false,
				timer: 1800,
				timerProgressBar: true,
				background: '#fff',
				color: '#333',
			});
		}

		// render cart items
		function renderCart() {
			const cartBody = document.getElementById('cart-body');

			if (cartItems.length === 0) {
				cartBody.innerHTML = `
				 <div class="empty-cart">
                        <i class="bi bi-cart-x"></i>
                        <h5 class="mb-2">Tu carrito está vacío</h5>
                        <p class="text-muted">Añade productos para comenzar a comprar</p>
                        <button class="btn btn-primary mt-2" data-bs-dismiss="offcanvas">
                            Continuar Comprando
                        </button>
                    </div>
				
				`;
				document.getElementById('cart-total').textContent = 'S/ 0.00';
				updateCartCount();
				return;
			}
			cartBody.innerHTML = cartItems.map(item => `
	 			<div class="cart-item">
                    <div class="d-flex">
                        <img src="${item.image}" alt="${item.name}" class="cart-img me-3">
                        <div class="flex-grow-1">
                            <div class="d-flex justify-content-between">
                                <h6 class="mb-1">${item.name}</h6>
                                <button class="btn btn-sm btn-link text-danger btn-delete p-0" data-id="${item.id}">
                                    Eliminar
                                </button>
                            </div>
                            <p class="mb-1">S/ ${item.price}</p>
                            
                            <div class="d-flex align-items-center mt-2">
                                <div class="input-group input-group-sm" style="max-width: 130px;">
                                    <button class="btn btn-outline-secondary quantity-btn btn-decrease" data-id="${item.id}">
                                        -
                                    </button>
                                    <input type="number" min="1" class="form-control text-center quantity-input input-qty" 
                                           data-id="${item.id}" value="${item.quantity}">
                                    <button class="btn btn-outline-secondary quantity-btn btn-increase" data-id="${item.id}">
                                        +
                                    </button>
                                </div>
                                <div class="ms-auto fw-bold">
                                    S/ ${(item.price * item.quantity).toFixed(2)}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
				
 				 `).join('');
			updateCartCount();
			updateCartTotal();
		}

		// update cart count
		function updateCartCount() {
			const total = cartItems.reduce((sum, item) => sum + item.quantity, 0);
			document.getElementById('cart-count').textContent = total;
		}

		// update cart total
		function updateCartTotal() {
			const total = cartItems.reduce((sum, item) => {
				const itemPrice = parseFloat(item.price); //.replace('S/ ', '')
				return sum + itemPrice * item.quantity;
			}, 0);

			document.getElementById('cart-total').textContent = `S/ ${total.toFixed(2)}`;
		}

		// cart delete item
		document.addEventListener('click', function (e) {
			if (e.target.classList.contains('btn-delete')) {
				const id = e.target.dataset.id;

				Swal.fire({
					title: '¿Eliminar producto?',
					text: "Esta acción no se puede deshacer",
					icon: 'warning',
					showCancelButton: true,
					confirmButtonText: 'Sí, eliminar',
					cancelButtonText: 'Cancelar',
					confirmButtonColor: '#d33',
					cancelButtonColor: '#3085d6'
				}).then((result) => {
					if (result.isConfirmed) {
						cartItems = cartItems.filter(item => item.id !== id);
						renderCart();
						saveCartToLocalStorage();

						Swal.fire({
							icon: 'success',
							title: 'Eliminado',
							text: 'El producto fue eliminado del carrito',
							timer: 1500,
							showConfirmButton: false
						});

					}
				});
			}
		});

		// cart item botton up / decrese quantity
		document.addEventListener('click', function (e) {
			if (e.target.classList.contains('btn-increase') || e.target.classList.contains('btn-decrease')) {
				const id = e.target.dataset.id;
				const item = cartItems.find(prod => prod.id === id);
				if (!item) return;

				if (e.target.classList.contains('btn-increase')) {
					item.quantity++;
				} else if (item.quantity > 1) {
					item.quantity--;
				}

				renderCart();
				saveCartToLocalStorage();
			}
		});

		// cart item input up / decrese quantity
		document.addEventListener('input', function (e) {
			if (e.target.classList.contains('input-qty')) {
				const id = e.target.dataset.id;
				const newQty = parseInt(e.target.value);
				const item = cartItems.find(prod => prod.id === id);

				if (item && newQty > 0) {
					item.quantity = newQty;
					renderCart();
					saveCartToLocalStorage();
				}
			}
		});

		//save to local storage
		function saveCartToLocalStorage() {
			localStorage.setItem('cartItems', JSON.stringify(cartItems));
		}


	</script>

</body>

</html>